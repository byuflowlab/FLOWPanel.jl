<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Panel Gradients · FLOWPanel.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="FLOWPanel.jl logo"/></a><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Intro</a></li><li><a class="tocitem" href="../../potentialflow/">Potential Flow</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Elements</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../elements/paneldefinition/">Panel Definition</a></li><li><a class="tocitem" href="../../elements/constantsource/">Constant Source</a></li><li><a class="tocitem" href="../../elements/constantdoublet/">Constant Doublet</a></li><li><a class="tocitem" href="../../elements/semiinfdoublet/">Semi-Infinite Doublet</a></li><li><a class="tocitem" href="../../elements/semiinfnonplanardoublet/">Non-Planar Semi-Infinite Doublet</a></li><li><a class="tocitem" href="../../elements/constantvortexsheet/">Constant Vortex Sheet</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox" checked/><label class="tocitem" for="menuitem-4"><span class="docs-label">Geometry Engine</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Grid Generation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../gridgeneration/">Methods</a></li><li><a class="tocitem" href="../gridgeneration-loft/">Lofting Method</a></li><li><a class="tocitem" href="../gridgeneration-pathloft/">Path-Lofting Method</a></li><li><a class="tocitem" href="../gridgeneration-rev/">Surface of Revolution Method</a></li><li><a class="tocitem" href="../gridgeneration-transf/">Space Transformation Method</a></li><li><a class="tocitem" href="../gridgeneration-triang/">Grid Triangulation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox" checked/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Advanced</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../basics/"><code>GeometricTools.jl</code></a></li><li><a class="tocitem" href="../basics-grid/">Cartesian Grid</a></li><li><a class="tocitem" href="../basics-transformations/">Space Transformations</a></li><li><a class="tocitem" href="../basics-loopedgrid/">Looped Grid</a></li><li><a class="tocitem" href="../basics-surfacegrid/">Surface Grid</a></li><li class="is-active"><a class="tocitem" href>Panel Gradients</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox"/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">Swept Wing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/sweptwing-4p2aoa/">4.2° Angle of Attack</a></li><li><a class="tocitem" href="../../examples/sweptwing-aoasweep/">AOA Sweep</a></li><li><a class="tocitem" href="../../examples/sweptwing-solver/">Solver Benchmark</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Centerbody</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/centerbody-source/">Source Elements</a></li><li><a class="tocitem" href="../../examples/centerbody-slice/">Slice</a></li><li><a class="tocitem" href="../../examples/centerbody-vortexring/">Vortex Ring Elements</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-3" type="checkbox"/><label class="tocitem" for="menuitem-5-3"><span class="docs-label">Duct</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/duct-aoasweep/">AOA Sweep</a></li><li><a class="tocitem" href="../../examples/duct-fluiddomain/">Fluid Domain</a></li><li><a class="tocitem" href="../../examples/duct-leastsquares/">Least-Squares Solver</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-4" type="checkbox"/><label class="tocitem" for="menuitem-5-4"><span class="docs-label">Blended Wing Body</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/blendedwingbody-cad/">CAD Model</a></li><li><a class="tocitem" href="../../examples/blendedwingbody-gmsh/">Unstructured Meshing</a></li><li><a class="tocitem" href="../../examples/blendedwingbody-TE/">Export Trailing Edge</a></li><li><a class="tocitem" href="../../examples/blendedwingbody-aero/">Import Mesh and Solve</a></li><li><a class="tocitem" href="../../examples/blendedwingbody-gpucpu/">GPU and CPU Acceleration</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-5" type="checkbox"/><label class="tocitem" for="menuitem-5-5"><span class="docs-label">Cessna 210</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/cessna-openvsp/">OpenVSP Model</a></li><li><a class="tocitem" href="../../examples/cessna-TE/">Export Trailing Edge</a></li><li><a class="tocitem" href="../../examples/cessna-aero/">Import Mesh and Solve</a></li><li><a class="tocitem" href="../../examples/cessna-vspgeom/">VSPGeom.jl</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-6" type="checkbox"/><label class="tocitem" for="menuitem-5-6"><span class="docs-label">Lifting Line</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-5-6-1" type="checkbox"/><label class="tocitem" for="menuitem-5-6-1"><span class="docs-label">Weber Wing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/ll-weber-4p2aoa/">4.2° Angle of Attack</a></li><li><a class="tocitem" href="../../examples/ll-weber-aoasweep/">AOA Sweep</a></li></ul></li><li><a class="tocitem" href="../../examples/ll-a50k27/">A50K27 Wing</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Geometry Engine</a></li><li><a class="is-disabled">Advanced</a></li><li class="is-active"><a href>Panel Gradients</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Panel Gradients</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/byuflowlab/FLOWPanel.jl/blob/master/docs/src/geometry/panel-gradient.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Panel-Gradients"><a class="docs-heading-anchor" href="#Panel-Gradients">Panel Gradients</a><a id="Panel-Gradients-1"></a><a class="docs-heading-anchor-permalink" href="#Panel-Gradients" title="Permalink"></a></h1><p>Computing the gradient of panel circulation is necessary when using Vortex ring elements to model a geometry. Unlike in structured meshes, gradient estimation in unstructured meshes is not straightforward due to the lack of consistent connectivity. Multiple methods have been proposed to compute gradients on unstructured meshes that utilize either the cell-centered or node-based circulation strengths <a href="https://ntrs.nasa.gov/api/citations/20140011550/downloads/20140011550.pdf">[1]</a>. A few of these are listed below:</p><ol><li>Green-Gauss gradient method<ul><li>Simple face averaging</li><li>Inverse distance weighted face interpolation</li><li>Weighted Least squares Face interpolation</li><li>Weighted Tri-Linear Face Interpolation</li></ul></li><li>Least squares gradient method</li><li>Curvilinear gradient method </li></ol><p>Since cell-centered approaches have inherent difficulties handling boundaries and &#39;holes&#39; in the geometry, a node-based approach is utlized here. This requires converting cell-centered panel strengths to node-based. An area-weighted averaging procedure enables this conversion. Once node-based strengths are obtained, the gradient is computed as the inclination of the plane passing through the scalar values at each cell&#39;s vertex. Steps involved in this procedure are described below.</p><p>Consider a single triangular panel element with the scalar values <span>$\phi_1$</span>, <span>$\phi_2$</span>, <span>$\phi_3$</span> at its three vertices <span>$P_1$</span>, <span>$P_2$</span>, <span>$P_3$</span>. First, the three vertices are converted to a local two-dimensional frame.</p><center>
  <img src="../../assets/images/geometry-panel-gradient.png" alt="panel gradient" style="width: 380px;"/>
</center>
<br><br><p>A plane passing through <span>$\phi_1$</span>, <span>$\phi_2$</span>, <span>$\phi_3$</span> satisfies the equations,</p><p class="math-container">\[\alpha + \beta (x_1 - x_0) + \gamma (y_1 - y_0) = \phi_1\\
 \alpha + \beta (x_2 - x_0) + \gamma (y_2 - y_0) = \phi_2\\
 \alpha + \beta (x_3 - x_0) + \gamma (y_3 - y_0) = \phi_3\]</p><p>where <span>$(x_0, y_0)$</span> is the cell center, and <span>$\alpha$</span> the value of <span>$\phi$</span> at the cell-center. <span>$\beta$</span> and <span>$\gamma$</span> are the gradients (or slope) in the <span>$x$</span> and <span>$y$</span> directions in the two-dimensional frame.</p><p>The unknowns <span>$\alpha$</span>, <span>$\beta$</span>, and <span>$\gamma$</span> may be obtained by solving the system of linear equations given by,</p><p class="math-container">\[\begin{bmatrix}
1 &amp; (x_1-x_0) &amp; (y_1-y_0) \\
1 &amp; (x_1-x_0) &amp; (y_1-y_0) \\
1 &amp; (x_1-x_0) &amp; (y_1-y_0)
\end{bmatrix} \begin{bmatrix}
\alpha \\
\beta \\
\gamma
\end{bmatrix} = \begin{bmatrix}
\phi_1 \\
\phi_2 \\
\phi_3
\end{bmatrix}\]</p><p>The slopes <span>$\beta$</span> and <span>$\gamma$</span> are converted back to three-dimensions using the appropriate basis vectors as shown below,</p><p class="math-container">\[\mathbf{\nabla} \phi = \beta \mathbf{e_x} + \gamma \mathbf{e_y}\]</p><h3 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h3><p>[1] Sozer, E., Brehm, C., &amp; Kiris, C. C. (2014). Gradient calculation methods on arbitrary polyhedral unstructured meshes for cell-centered CFD solvers. 52nd Aerospace Sciences Meeting, 1–24.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../basics-surfacegrid/">« Surface Grid</a><a class="docs-footer-nextpage" href="../../examples/sweptwing-4p2aoa/">4.2° Angle of Attack »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 9 January 2026 23:34">Friday 9 January 2026</span>. Using Julia version 1.11.8.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
