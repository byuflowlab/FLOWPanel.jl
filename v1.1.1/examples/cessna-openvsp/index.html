<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>OpenVSP Model · FLOWPanel.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="FLOWPanel.jl logo"/></a><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Intro</a></li><li><a class="tocitem" href="../../potentialflow/">Potential Flow</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Elements</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../elements/paneldefinition/">Panel Definition</a></li><li><a class="tocitem" href="../../elements/constantsource/">Constant Source</a></li><li><a class="tocitem" href="../../elements/constantdoublet/">Constant Doublet</a></li><li><a class="tocitem" href="../../elements/semiinfdoublet/">Semi-Infinite Doublet</a></li><li><a class="tocitem" href="../../elements/semiinfnonplanardoublet/">Non-Planar Semi-Infinite Doublet</a></li><li><a class="tocitem" href="../../elements/constantvortexsheet/">Constant Vortex Sheet</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Geometry Engine</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Grid Generation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../geometry/gridgeneration/">Methods</a></li><li><a class="tocitem" href="../../geometry/gridgeneration-loft/">Lofting Method</a></li><li><a class="tocitem" href="../../geometry/gridgeneration-pathloft/">Path-Lofting Method</a></li><li><a class="tocitem" href="../../geometry/gridgeneration-rev/">Surface of Revolution Method</a></li><li><a class="tocitem" href="../../geometry/gridgeneration-transf/">Space Transformation Method</a></li><li><a class="tocitem" href="../../geometry/gridgeneration-triang/">Grid Triangulation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Advanced</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../geometry/basics/"><code>GeometricTools.jl</code></a></li><li><a class="tocitem" href="../../geometry/basics-grid/">Cartesian Grid</a></li><li><a class="tocitem" href="../../geometry/basics-transformations/">Space Transformations</a></li><li><a class="tocitem" href="../../geometry/basics-loopedgrid/">Looped Grid</a></li><li><a class="tocitem" href="../../geometry/basics-surfacegrid/">Surface Grid</a></li><li><a class="tocitem" href="../../geometry/panel-gradient/">Panel Gradients</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox"/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">Swept Wing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../sweptwing-4p2aoa/">4.2° Angle of Attack</a></li><li><a class="tocitem" href="../sweptwing-aoasweep/">AOA Sweep</a></li><li><a class="tocitem" href="../sweptwing-solver/">Solver Benchmark</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Centerbody</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../centerbody-source/">Source Elements</a></li><li><a class="tocitem" href="../centerbody-slice/">Slice</a></li><li><a class="tocitem" href="../centerbody-vortexring/">Vortex Ring Elements</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-3" type="checkbox"/><label class="tocitem" for="menuitem-5-3"><span class="docs-label">Duct</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../duct-aoasweep/">AOA Sweep</a></li><li><a class="tocitem" href="../duct-fluiddomain/">Fluid Domain</a></li><li><a class="tocitem" href="../duct-leastsquares/">Least-Squares Solver</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-4" type="checkbox"/><label class="tocitem" for="menuitem-5-4"><span class="docs-label">Blended Wing Body</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../blendedwingbody-cad/">CAD Model</a></li><li><a class="tocitem" href="../blendedwingbody-gmsh/">Unstructured Meshing</a></li><li><a class="tocitem" href="../blendedwingbody-TE/">Export Trailing Edge</a></li><li><a class="tocitem" href="../blendedwingbody-aero/">Import Mesh and Solve</a></li><li><a class="tocitem" href="../blendedwingbody-gpucpu/">GPU and CPU Acceleration</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5-5"><span class="docs-label">Cessna 210</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>OpenVSP Model</a><ul class="internal"><li><a class="tocitem" href="#Polish-the-Model"><span>Polish the Model</span></a></li><li><a class="tocitem" href="#Quality-Check"><span>Quality Check</span></a></li><li><a class="tocitem" href="#Export"><span>Export</span></a></li></ul></li><li><a class="tocitem" href="../cessna-TE/">Export Trailing Edge</a></li><li><a class="tocitem" href="../cessna-aero/">Import Mesh and Solve</a></li><li><a class="tocitem" href="../cessna-vspgeom/">VSPGeom.jl</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li><a class="is-disabled">Cessna 210</a></li><li class="is-active"><a href>OpenVSP Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>OpenVSP Model</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/byuflowlab/FLOWPanel.jl/blob/master/docs/src/examples/cessna-openvsp.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><center>
  <img src="https://edoalvar2.groups.et.byu.net/public/FLOWPanel/cessna002.jpg" alt="Pic here" style="width: 100%;"/>
</center><p>In this example we analyze a Cessna 210 aircraft that is generated using <a href="https://openvsp.org">OpenVSP</a>. We show how to polish and mesh the OpenVSP model, and the mesh is then read by FLOWPanel using <a href="https://juliageometry.github.io/MeshesDocs">Meshes.jl</a>.</p><p>To run this tutorial you will have to install a few dependencies for processing unstructured grids:</p><pre><code class="language-julia hljs">import Pkg

Pkg.add(Meshes)
Pkg.add(GeoIO)
Pkg.add(Rotations)</code></pre><h1 id="OpenVSP-Model"><a class="docs-heading-anchor" href="#OpenVSP-Model">OpenVSP Model</a><a id="OpenVSP-Model-1"></a><a class="docs-heading-anchor-permalink" href="#OpenVSP-Model" title="Permalink"></a></h1><p>We will use the Cessna 210 model that is available in the <a href="https://vspu.larc.nasa.gov/example-file-download">OpenVSP Ground School</a> as the starting point (you can also download the <code>.vsp3</code> file directly from <a href="https://github.com/byuflowlab/FLOWPanel.jl/raw/master/examples/data/Cessna-210.vsp3">here</a>, <code>right click → save as...</code>). Follow the steps below to polish the model, mesh it, and export the mesh.</p><h2 id="Polish-the-Model"><a class="docs-heading-anchor" href="#Polish-the-Model">Polish the Model</a><a id="Polish-the-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Polish-the-Model" title="Permalink"></a></h2><p>If you try to run the model as-is through the OpenVSP aero solver, you might notice that VSPAERO crashes. This is an indication that the model needs some clean up and polish before we can do any numerical analysis with it.</p><p>We recommend doing the following modifications to the model,</p><ol><li>Round up the wing tips to avoid sharp edges</li><li>Sharpen the wing trailing edge</li><li>Merge the prop spinner with the main body by translating it to close the gap</li><li>Adequately adapt the mesh resolution:<ul><li>Refinement towards wing tips</li><li>Refinement towards both wing LE and TE</li><li>Avoid abrupt changes in cell sizes</li></ul></li></ol><center>
    <span style="font-size: 1.1em; color:black;"><b>
        Before
    </b></span>
    <br>
    <img src="https://edoalvar2.groups.et.byu.net/public/FLOWPanel/openvsp000.png" alt="Pic here" style="width: 100%;"/>
</center>
<br>
<center>
    <span style="font-size: 1.1em; color:black;"><b>
        After
    </b></span>
    <br>
    <img src="https://edoalvar2.groups.et.byu.net/public/FLOWPanel/openvsp001.png" alt="Pic here" style="width: 100%;"/>
</center><div class="admonition is-info"><header class="admonition-header">OpenVSP Files</header><div class="admonition-body"><p>The <code>.vsp3</code> files are available here: <a href="https://github.com/byuflowlab/FLOWPanel.jl/raw/master/examples/data/Cessna-210.vsp3">[before]</a> <a href="https://github.com/byuflowlab/FLOWPanel.jl/raw/master/examples/data/cessna.vsp3">[after]</a> (<code>right click → save as...</code>).</p></div></div><h2 id="Quality-Check"><a class="docs-heading-anchor" href="#Quality-Check">Quality Check</a><a id="Quality-Check-1"></a><a class="docs-heading-anchor-permalink" href="#Quality-Check" title="Permalink"></a></h2><p>Make sure that the OPENVSP aero solver (VSPAERO) can successfully perform analysis with the mesh:</p><ul><li>Confirm that the analysis completes without returning <code>nan</code>s</li><li>Confirm that the analysis returns reasonable values for <span>$C_L$</span> and <span>$C_D$</span></li><li>Visualize the wake and make sure that the body is not improperly   interfering with the wake (e.g.,, wake penetrating into the body)</li><li>Visualize <span>$C_p$</span> and make sure that there aren&#39;t any regions where the   solution blows up</li></ul><p>If VSPAERO can&#39;t successfully do numerical analysis with this mesh, it is likely that FLOWPanel will also fail.</p><h2 id="Export"><a class="docs-heading-anchor" href="#Export">Export</a><a id="Export-1"></a><a class="docs-heading-anchor-permalink" href="#Export" title="Permalink"></a></h2><ul><li>Export mesh: <code>File &gt; Export &gt; Gmsh (.msh)</code></li><li>Export NURBS: <code>File &gt; Export &gt; Untrimmed STEP (.stp)</code>, set length unit to <code>MM</code>, and set tolerance to <code>1e-12</code>=</li></ul><p>OpenVSP exports <code>.msh</code> files in an older format that is not compatible with <a href="https://juliageometry.github.io/MeshesDocs">Meshes.jl</a>, so here we recommend using <a href="https://gmsh.info">Gmsh</a> to convert the <code>.msh</code> file to a newer version:</p><ul><li>Open the <code>.msh</code> file in Gmsh</li><li>Re-export <code>.msh</code> in ASCII format v4: <code>File &gt; Export</code> and select   <code>Mesh - Gmsh MSH (*.msh)</code> in the dropdown menu</li></ul><div class="admonition is-info"><header class="admonition-header">Mesh Files</header><div class="admonition-body"><p>The resulting <code>.msh</code> and <code>.stp</code> files are available here: <a href="https://edoalvar2.groups.et.byu.net/public/FLOWPanel/cessna.msh"><code>cessna.msh</code></a> <a href="https://edoalvar2.groups.et.byu.net/public/FLOWPanel/cessna.stp"><code>cessna.stp</code></a> (<code>right click → save as...</code>).</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../blendedwingbody-gpucpu/">« GPU and CPU Acceleration</a><a class="docs-footer-nextpage" href="../cessna-TE/">Export Trailing Edge »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Tuesday 23 April 2024 18:12">Tuesday 23 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
